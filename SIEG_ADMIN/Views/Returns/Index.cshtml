<!-- 右邊內容 -->
<link href="~/css/BEN.css" rel="stylesheet">
<div class="content-wrapper">
    <div class="container-xxl flex-grow-1 container-p-y">

        <!-- 新增btn & 手機板選單 -->
        <div class="top_nav justify-content-xl-end justify-content-between">
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
                <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                    <i class="bx bx-menu bx-sm"></i>
                </a>
            </div>
            <div class="d-inline-block">
                <a class="add_btn" asp-controller="Home" asp-action="add">
                    <i class="bx bx-plus"></i>
                    <span>新增</span>
                </a>
            </div>
        </div>

        <!-- 顯示資訊 -->
        <div class="card" id="bannerVue">
            <div class="table-responsive text-nowrap">
                <table class="table banner_table">
                    <thead>
                        <tr>
                            <th class="img">商品</th>
                            <th class="title">訂單編號</th>
                            <th class="link">買家ID</th>
                            <th class="link">買家付款金額</th>
                            <th class="state">賣家ID</th>
                            <th class="state">賣家收款金額</th>
                            <th class="btn"></th>
                        </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
                        <tr v-for="item in ReturnDTOes">
                            <td class="imgTd">
                                <img :src="item.image" class="imgWidth">
                                <div class="imgMargin">
                                    <div>{{item.productName}}</div>
                                    <span class="nameDilute">{{item.model}}</span>
                                    <div>
                                        <p class=" badge rounded-pill Pcolor">us{{item.sizeId}}</p>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div>{{item.orderId}}</div>
                            </td>
                             <td>
                                <div>{{item.buyerId}}</div>
                            </td>
                            <td>
                                <div>NT${{item.buyerPrice}}</div>
                            </td>
                            <td>
                                <div>{{item.sellerId}}</div>
                            </td>
                            <td>
                                <div>NT${{item.sellerPrice}}</div>
                            </td>
                            <td>
                                <div class="tb_btn edit">
                                    <a >
                                        <i class="bx bx-pencil"></i>
                                    </a>
                                </div>
                                <div class="tb_btn del">
                                    <a >
                                        <i class="bx bx-trash"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.2/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
        $(".back_Returns").addClass('active');
        var webApiBaseAddress = "https://localhost:7139";
        var appVue = new Vue({
            el: "#bannerVue",
            name: "bannerVue",
            data: {
                ReturnDTOes: [],
                Filter: "",             
            },
            mounted: function () {
                let _this = this;
                _this.getReturnDTOes();
            },
            methods: {
                getReturnDTOes: function () {
                    let _this = this;
                    axios.get(`${webApiBaseAddress}/api/B_BuyerOrders`).then(
                        response => {
                            _this.ReturnDTOes = response.data;
                            //var ReturnList = [];
                            //for (var i = 0; i < _this.ReturnDTOes.length; i++) {
                            //    var item = {};
                            //    item = _this.MemberDTOes[i];
                            //    item.num = "A" + item.orderId;
                            //    var str = item.completeTime;
                            //    item.newCompletetime = str.split("T")[0];
                            //    ReturnList.push(item);

                            //}
                            //_this.ReturnDTOes = ReturnList;
                        }
                    );
                },
                //deleteBanner: function (id) {
                //    let _this = this;
                //    var ret = confirm("確定要刪除嗎?");
                //    if (ret == true) {
                //        axios.delete(`${webApiBaseAddress}/api/E_Banner/${id}`).then(
                //            response => {
                //                //alert(response.data);
                //                Swal.fire({
                //                    icon: 'success',
                //                    title: '刪除成功！',
                //                    showConfirmButton: false,
                //                    timer: 1500
                //                })
                //                _this.getBannerDTO();
                //            }
                //        );
                //    }
                //},
                //editBanner: function (bnID) {
                //    sessionStorage.setItem("bnID", bnID);
                //    window.location = "/Home/edit";
                //},
            },
        });

    </script>
}